# MPROG Project - Process book

03-06-2019: Proposal afgemaakt. Ik heb de proposal die ik al tijdens data visualization heb gemaakt aangepast en uitgebreid.

04-06-2019: Design proposal geschreven en de eerste bespreking met Nigel gehad. Hier hebben we het probleem met de veranderende kaarten besproken. Ook heb ik gezocht of ik een bewerkbare lijst met huidige gemeenten en de gemeenten waar die uit bestonden kon vinden, maar dat is niet gelukt. Ik zal dus ofwel handmatig dit moeten opzoeken, wat te veel tijd kost, of de historische data kan alleen worden getoond bij gemeenten die al sinds 1946 hebben bestaan.

05-06-2019: Ik heb mijn data per gemeente in een JSON gestopt en heb een begin gemaakt aan de gewogen LR-score berekenen. Bij de standup heb ik mijn proposal uitgelegd. Qua feedback werd gesuggereerd om misschien te beginnen met provincies en daarna pas schalen naar gemeenten.

06-06-2019: Ik heb de gewogen LR-score per gemeente per jaar berekend en toegevoegd aan de dictionary van de gemeenten. Ook heb ik een juiste kaart voor de Nederlandse gemeenten gedownload en versimpeld (ten bate van de grootte.)

11-06-2019: Ik heb geprobeerd de kaart van Nederland te projecteren, maar dit is nog niet gelukt. Tot nu toe is de kaart nog heel klein, en ik krijg het nog niet voor elkaar om de kaart op de manier van linked views te projecteren. Er lijkt een fout te zitten in de topojson van de Nederlandse gemeenten. Ik ga dit morgen vragen.

12-06-2019: Ik heb gevraagd naar de kaart, maar de projectie is nog steeds niet gelukt. Wel heb ik nu de assen van de lijngrafiek kunnen tekenen.

13-06-2019: De kaart heb ik nu aan het werk gekregen en ik kan de namen van de gemeenten hier nu ook uit halen. Nu moet ik mijn datastructuur nog veranderen, aangezien de huidige vorm onhandig is bij het maken van de lijngrafiek. Zodra dit klaar is kan ik de twee datasets gaan koppelen en lijngrafieken gaan tekenen.

14-06-2019: Tijdens het feedback-moment met Nigel hebben we nog een keer naar mijn datastructuur gekeken, die nog wat verandering kan gebruiken. Ook voegt mijn data-algorithme nog niet altijd de juiste data in de JSON (met name bij de rile en de uitslagen van GroenLinks), waar ik deze dag aan gewerkt heb.

15-06-2019: Na veranderingen in mijn datastructuur en meer onderzoek naar de d3 line chart kan ik nu resultaten in een linechart tekenen. Dit gaat echter nog niet helemaal goed, en ik weet niet of dit ligt aan mijn data of aan JavaScript. Maandag zal ik hier naar vragen.
Ook ga ik vandaag proberen de laatste fouten uit mijn data te halen (zoals bijvoorbeeld dat elke gemeente bij 2017 dezelfde rile krijgt, of dat sommige partijnamen niet hetzelfde zijn doorgevoerd)

16-06-2019:

17-06-2019: Bij de standup hebben we gekeken naar het probleem van de kleuren, en hebben we het erover gehad dat de parallel coordinates. De kleuren zijn nu opgelost, en ik heb ook het probleem opgelost dat de lijnen niet goed werden getekend. Allereerst bij de riles, die altijd ofwel stopte bij 1982 of daarna pas begon (dat is nu een doorlopende lijn) en bij de partijdata werden er rare lijnen getekend (lijnen die terug naar 2017 leken te keren), wat is opgelost door de volgorde in de arrays aan te passen.

18-06-2019: Ik heb met Nigel de tooltip van de partijlijnen aan het werk gekregen en bootstrap geimplementeerd. Ook heb ik met Nigel besproken wat er met de parallel coordinates moet gebeuren, en we zijn tot de conclusie gekomen dat ik het beste nog een pie-chart kan maken met partij resultaten per jaar (wat ook overzichtelijker is dan alleen de lijnen) die met een drop-down menu kan worden aangepast. Ook ga ik de (semi-) parallel coordinates een optie geven om de absolute waarden van een gemeente te laten zien en de relatieve positie ten opzichte van de Nederlandse score.

19-06-2019: Ik heb de piechart gemaakt, maar de tooltip in de piechart werkt nog niet. Verder heb ik bootstrap voor het eerst gebruikt en een nettere lay-out gemaakt. Ook heb ik een begin gemaakt aan de twee knoppen voor de gemeenten en de piechart (jaren selecteren). Ook heb ik kleuren toegevoegd per partij, zodat in de line- en piecharts duidelijker is welke partij welke is. De kleuren zijn min of meer de historische partijkleuren. Daarbij heb ik de laatste fouten uit de data gehaald, aangezien de data voor heel Nederland nog niet de uitslagen van 2017 had en door een andere naam in de data het CDA geen kleur kreeg en niet in de weging werd meegenomen.

20-06-2019: De knoppen voor de piechart en de gemeenten hebben nu alle informatie die ze moeten hebben (met name de jaren voor de piechart zijn belangrijk, aangezien ik niet voor alle gemeenten data heb voor alle jaren). Ik moet hier alleen nog wel de link met het tekenen kunnen maken, wat nu nog niet lukt. Dit ga ik morgen bij de bespreking navragen. De tooltip van de piechart werkt nu na hulp van Nigel. Ook is de lay-out van de pagina verder verbeterd en heb ik een aantal verduidelijkende teksten toegevoegd. Ook de knoppen met relatieve (t.o.v. Nederland) en absolute scores werken nog niet. Zodra ik deze knoppen en de dropdown menus van de pie chart en de gemeenten aan het werk heb zijn de belangrijkste functionaliteiten gereed. Dan moet ik nog wel de update-functies implementeren en de website visueel aantrekkelijker en overzichtelijker maken.

21-06-2019: Vandaag heb ik voornamelijk aan de knoppen gewerkt. Deze werken nu grotendeels voor het updaten van de lijngrafieken (dmv de dropdown voor gemeenten) maar nog niet voor de pie chart. Tijdens de bespreking met Nigel heb ik nog als actiepunten dat ik assen moet toevoegen, nog wat extra uitleggende pagina's moet toevoegen en, heel belangrijk, voor alle grafieken een legenda nodig heb. Ik denk dat ik de lay-out van de pagina zo ga veranderen dat ik dezelfde legenda voor de piechart als de lijngrafiek met partijen kan gebruiken, aangezien deze dezelfde kleuren gebruiken. Deze kleuren zijn volgens Nigel niet echt mooi, maar het zijn de klassieke partijkleuren en ik wil daar liever niet van afwijken. De NOS gebruikt gelijkende kleuren bij hun uitslagenkaarten, dus ik denk dat het zo wel duidelijker is. De legenda voor de gemeenten is me ook nog niet gelukt, dus dat wordt samen met de knoppen werkend krijgen werk voor in het weekend.

22-06-2019: Ik heb vandaag titels aan mijn assen toevoegd en mijn lay-out vrij grondig veranderd. Ook zijn er nog een aantal verbeteringen in de lijngrafieken aangebracht, zoals zichzelf aanpassende assen bij de lijngrafiek, en ik heb geprobeerd om de piechart te laten updaten, maar dit lukt nog niet helemaal. Ik vermoed dat er een probleem onstaat doordat de piechart niet altijd dezelfde componenten heeft en deze componenten ook vaak op een andere volgorde staan (van grote naar kleine partij), wat waarschijnlijk het makkelijkst op te lossen is door al de oude componenten helemaal weg te gooien. Ook heb ik een legenda toegevoegd die voor zowel de piechart als de lijngrafiek de kleuren laat zien. De knop om te switchen tussen relatief en absolute scores werkt nu ook, plus dat ik een knop heb toegevoegd die de getekende lijnen in deze grafiek kan weggooien, zodat je kan vergelijken maar wel het overzicht kan houden.
